<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
  // 判断对象的数据类型
  const isType = type => target => `[object ${type}]` === Object.prototype.toString.call(target)
  const isArray = isType('Array')
  console.log(isArray([]))
  const isString = isType("String")
  console.log(isString(''))
  console.log(Object.prototype.toString.call([]))

  // ES5实现数组 map 方法
  Array.prototype.selfMap = function(fn, context) {
    let arr = Array.prototype.slice.call(this)
    let mappedArr = []
    for (let i = 0; i < arr.length; i++) {
      if(!arr.hasOwnProperty(i)) continue
      mappedArr.push(fn.call(context, arr[i], i, this))
    }
    return mappedArr
  }
  var arr = [1,2,3,4]
  var arr1 = [1,2,3,4]
  console.log(arr.selfMap(e => e*2))
  arr1.map(e => e*2)
  console.log(arr)
  console.log(arr1)
  Array.prototype.slefFilter = function (fn, context) {
    return this.reduce((pre, cur, index) => {
      return fn.call(context, cur, index, this)?[...pre, cur] : [...pre]
    })
  }
</script>
</body>
</html>
